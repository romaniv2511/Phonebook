{"version":3,"file":"static/js/86.f425dcea.chunk.js","mappings":"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","sources":["redux/contacts/contactsSelectors.jsx","components/Forms/ContactForm/ContactForm.jsx","components/Modals/AddContactModal.jsx","components/Filter/Filter.jsx","components/Contacts/Contact/Contact.styled.jsx","components/Contacts/Contact/Contact.jsx","components/Modals/EditContactModal.jsx","components/Contacts/ContactsList/ContactsList.jsx","pages/Contacts.jsx"],"sourcesContent":["export const selectContacts = state => state.contacts.items;\nexport const selectIsLoading = state => state.contacts.isLoading;\nexport const selectError = state => state.contacts.error;\n","import { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useForm } from 'react-hook-form';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport * as Yup from 'yup';\nimport PropTypes from 'prop-types';\nimport {\n  FormErrorMessage,\n  FormLabel,\n  FormControl,\n  Input,\n  Button,\n  Flex,\n} from '@chakra-ui/react';\nimport { useToast } from '@chakra-ui/toast';\nimport { addContact, editContact } from 'redux/contacts/contactsOperations';\nimport { selectContacts } from 'redux/contacts/contactsSelectors';\n\nconst schema = Yup.object().shape({\n  name: Yup.string()\n    .matches(\n      /^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$/,\n      'Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore'\n    )\n    .max(25)\n    .required(),\n  number: Yup.string()\n    .min(5)\n    .max(16)\n    .matches(\n      /\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}/,\n      'Phone number must be at digits and can contain spaces, dashes, parentheses and can start with +'\n    )\n\n    .required(),\n});\n\nexport const ContactForm = ({\n  onClose,\n  contact = { name: '', number: '' },\n  type,\n}) => {\n  const [name, setName] = useState(contact.name);\n  const [number, setNumber] = useState(contact.number);\n\n  const {\n    register,\n    handleSubmit,\n    reset,\n    formState: { errors },\n  } = useForm({\n    resolver: yupResolver(schema),\n  });\n\n  const dispatch = useDispatch();\n  const contacts = useSelector(selectContacts);\n  const toast = useToast();\n\n  const onChange = e => {\n    const { name, value } = e.target;\n    switch (name) {\n      case 'name':\n        setName(value);\n        break;\n      case 'number':\n        setNumber(value);\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  const onSubmit = data => {\n    const { name, number } = data;\n\n    if (type === 'add') {\n      const isDuplicated = contacts.some(\n        i => i.name.toLowerCase() === name.toLowerCase()\n      );\n      if (isDuplicated) {\n        toast(\n          {\n            title: `\"${name}\" `,\n            description: 'is already in contacts',\n            position: 'top',\n            status: 'info',\n            duration: 3000,\n            isClosable: true,\n          }\n          //\n        );\n        return;\n      }\n      dispatch(addContact(data));\n    }\n    if (type === 'edit') {\n      dispatch(editContact({ id: contact.id, name, number }));\n    }\n    reset();\n    onClose();\n  };\n\n  return (\n    <form onSubmit={handleSubmit(onSubmit)}>\n      <FormControl isInvalid={errors.name}>\n        <FormLabel htmlFor=\"name\">\n          Name\n          <Input\n            id=\"name\"\n            {...register('name')}\n            type=\"text\"\n            onChange={onChange}\n            value={name}\n          />\n          <FormErrorMessage>{errors.name?.message}</FormErrorMessage>\n        </FormLabel>\n        <FormLabel htmlFor=\"number\">\n          Number\n          <Input\n            id=\"number\"\n            {...register('number')}\n            type=\"tel\"\n            onChange={onChange}\n            value={number}\n          />\n          <FormErrorMessage>{errors.number?.message}</FormErrorMessage>\n        </FormLabel>\n        <Flex mt=\"40px\" justifyContent=\"right\">\n          <Button type=\"submit\" colorScheme=\"blue\" mr={3}>\n            Save\n          </Button>\n          <Button onClick={onClose}>Cancel</Button>\n        </Flex>\n      </FormControl>\n    </form>\n  );\n};\n\nContactForm.propTypes = {\n  onClose: PropTypes.func.isRequired,\n  type: PropTypes.string.isRequired,\n  contact: PropTypes.exact({\n    id: PropTypes.string,\n    name: PropTypes.string,\n    number: PropTypes.string,\n  }),\n};\n","import {\n  Modal,\n  ModalOverlay,\n  ModalContent,\n  ModalHeader,\n  ModalBody,\n  ModalCloseButton,\n  useDisclosure,\n  Button,\n} from '@chakra-ui/react';\nimport { AddIcon } from '@chakra-ui/icons';\n\nimport { ContactForm } from 'components/Forms/ContactForm/ContactForm';\n\nexport const AddContactModal = () => {\n  const { isOpen, onOpen, onClose } = useDisclosure();\n\n  return (\n    <>\n      <Button\n        onClick={onOpen}\n        colorScheme=\"teal\"\n        borderRadius=\"8px\"\n        p=\"8px\"\n        mt=\"8px\"\n        mb=\"8px\"\n      >\n        <AddIcon mr=\"4px\" />\n        Add contact\n      </Button>\n\n      <Modal closeOnOverlayClick={false} isOpen={isOpen} onClose={onClose}>\n        <ModalOverlay />\n        <ModalContent>\n          <ModalHeader>Create new contact</ModalHeader>\n          <ModalCloseButton />\n\n          <ModalBody pb={6}>\n            <ContactForm onClose={onClose} type=\"add\" />\n          </ModalBody>\n        </ModalContent>\n      </Modal>\n    </>\n  );\n};\n","import { useSelector } from 'react-redux';\nimport { SearchIcon } from '@chakra-ui/icons';\nimport { InputGroup, InputLeftElement, Input } from '@chakra-ui/react';\nimport { selectContacts } from 'redux/contacts/contactsSelectors';\n\nexport const Filter = ({ setFilter }) => {\n  const contacts = useSelector(selectContacts);\n  const contactCount = contacts.length;\n  const text = `search among ${contactCount} contacts`;\n\n  return (\n    <InputGroup>\n      <InputLeftElement\n        pointerEvents=\"none\"\n        children={<SearchIcon color=\"teal\" />}\n      />\n      <Input\n        w=\"400px\"\n        name=\"filter\"\n        type=\"text\"\n        placeholder={text}\n        onChange={e => setFilter(e.target.value)}\n      />\n    </InputGroup>\n  );\n};\n","import styled from '@emotion/styled';\n\nexport const Name = styled.span`\n  font-weight: bold;\n`;\n","import PropTypes from 'prop-types';\nimport { Name } from './Contact.styled';\n\nexport const Contact = ({ name, number }) => (\n  <div>\n    <Name>{name}:</Name>\n    <span> {number}</span>\n  </div>\n);\n\nContact.propTypes = {\n  name: PropTypes.string.isRequired,\n  number: PropTypes.string.isRequired,\n};\n","import {\n  Modal,\n  ModalOverlay,\n  ModalContent,\n  ModalHeader,\n  ModalBody,\n  ModalCloseButton,\n  useDisclosure,\n  Button,\n} from '@chakra-ui/react';\nimport { EditIcon } from '@chakra-ui/icons';\n\nimport { ContactForm } from 'components/Forms/ContactForm/ContactForm';\n\nexport const EditContactModal = ({ contact }) => {\n  const { isOpen, onOpen, onClose } = useDisclosure();\n\n  return (\n    <>\n      <Button onClick={onOpen} colorScheme=\"teal\" variant=\"ghost\" p=\"8px\">\n        <EditIcon color=\"teal\" />\n      </Button>\n\n      <Modal closeOnOverlayClick={false} isOpen={isOpen} onClose={onClose}>\n        <ModalOverlay />\n        <ModalContent>\n          <ModalHeader>Edit contact</ModalHeader>\n          <ModalCloseButton />\n\n          <ModalBody pb={6}>\n            <ContactForm contact={contact} onClose={onClose} type=\"edit\" />\n          </ModalBody>\n        </ModalContent>\n      </Modal>\n    </>\n  );\n};\n","import { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { DeleteIcon } from '@chakra-ui/icons';\nimport { Button, Flex, List } from '@chakra-ui/react';\nimport { deleteContact } from 'redux/contacts/contactsOperations';\nimport {\n  selectContacts,\n  selectIsLoading,\n} from 'redux/contacts/contactsSelectors';\nimport { Filter } from 'components/Filter/Filter';\nimport { Contact } from '../Contact/Contact';\nimport { EditContactModal } from 'components/Modals/EditContactModal';\n\nexport const ContactsList = () => {\n  const [filter, setFilter] = useState('');\n  const [currentContactId, setCurrentContactId] = useState('');\n\n  const dispatch = useDispatch();\n  const contacts = useSelector(selectContacts);\n  const isLoading = useSelector(selectIsLoading);\n\n  if (!contacts.length) return;\n\n  const filtredContacts = contacts.filter(\n    contact =>\n      contact.name.toLowerCase().includes(filter.toLowerCase()) ||\n      contact.number.includes(filter)\n  );\n\n  return (\n    <>\n      <Filter setFilter={value => setFilter(value)} />\n      <List>\n        {filtredContacts.map(({ id, name, number }) => {\n          const showSpinner = isLoading && currentContactId === id;\n\n          return (\n            <Flex\n              alignItems=\"center\"\n              justifyContent=\"space-between\"\n              key={id}\n              borderBottom=\"1px solid black\"\n            >\n              <Contact name={name} number={number} />\n              <div>\n                <EditContactModal contact={{ id, name, number }} />\n                <Button\n                  isLoading={showSpinner}\n                  spinnerPlacement=\"start\"\n                  colorScheme=\"teal\"\n                  variant=\"ghost\"\n                  onClick={() => {\n                    setCurrentContactId(id);\n                    dispatch(deleteContact(id));\n                  }}\n                >\n                  <DeleteIcon />\n                </Button>\n              </div>\n            </Flex>\n          );\n        })}\n      </List>\n    </>\n  );\n};\n","import { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Spinner } from '@chakra-ui/react';\nimport { fetchContacts } from 'redux/contacts/contactsOperations';\nimport { selectIsLoading } from 'redux/contacts/contactsSelectors';\nimport { AddContactModal } from 'components/Modals/AddContactModal';\nimport { ContactsList } from 'components/Contacts/ContactsList/ContactsList';\nimport { Container } from 'components/Container/Container';\n\nconst Contacts = () => {\n  const dispatch = useDispatch();\n  const isLoading = useSelector(selectIsLoading);\n\n  useEffect(() => {\n    dispatch(fetchContacts());\n  }, [dispatch]);\n  return (\n    <Container>\n      <AddContactModal />\n      {isLoading && (\n        <Spinner\n          display=\"block\"\n          thickness=\"4px\"\n          speed=\"0.65s\"\n          emptyColor=\"gray.200\"\n          color=\"teal\"\n          size=\"xl\"\n        />\n      )}\n      <ContactsList />\n    </Container>\n  );\n};\n\nexport default Contacts;\n"],"names":["selectContacts","state","contacts","items","selectIsLoading","isLoading","schema","Yup","shape","name","matches","max","required","number","min","ContactForm","onClose","contact","type","useState","setName","setNumber","useForm","resolver","yupResolver","register","handleSubmit","reset","errors","formState","dispatch","useDispatch","useSelector","toast","useToast","onChange","e","target","value","onSubmit","data","some","i","toLowerCase","title","description","position","status","duration","isClosable","addContact","editContact","id","isInvalid","htmlFor","I","message","mt","justifyContent","colorScheme","mr","onClick","AddContactModal","useDisclosure","isOpen","onOpen","borderRadius","p","mb","closeOnOverlayClick","pb","Filter","setFilter","contactCount","length","text","pointerEvents","children","color","w","placeholder","Name","styled","Contact","EditContactModal","variant","ContactsList","filter","currentContactId","setCurrentContactId","filtredContacts","includes","map","showSpinner","alignItems","borderBottom","spinnerPlacement","deleteContact","useEffect","fetchContacts","Container","display","thickness","speed","emptyColor","size"],"sourceRoot":""}